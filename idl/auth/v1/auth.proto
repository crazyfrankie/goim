syntax="proto3";

package auth.v1;

option go_package="github.com/crazyfrankie/goim/protocol/auth/v1;authv1";

message GenerateConnTokenRequest {}

message GenerateConnTokenResponse {
  string token = 1;
}

message ParseTokenRequest {
  string token = 1;
}

message ParseTokenResponse {
  int64 userID = 1;
}

message RefreshBizTokenRequest {
  string refresh_token = 1;
}

message RefreshBizTokenResponse {
  string access_token = 1;
  string refresh_token = 2;
  int64 userID = 3;
}

service AuthService {
  rpc GenerateConnToken(GenerateConnTokenRequest) returns (GenerateConnTokenResponse);
  rpc ParseToken(ParseTokenRequest) returns (ParseTokenResponse);
  rpc RefreshBizToken(RefreshBizTokenRequest) returns (RefreshBizTokenResponse);
}